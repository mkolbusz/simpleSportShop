<h2>Lista produktów</h2>

<a routerLink='/admin/new-product' class="btn btn-primary">Dodaj nowy produkt</a>
<promotion-modal [products]="selectedProducts"></promotion-modal>

<clr-datagrid [(clrDgSelected)]="selectedProducts">
    <clr-dg-column [clrDgField]="'_id'">Id</clr-dg-column>
    <clr-dg-column [clrDgField]="'name'">Nazwa</clr-dg-column>
    <clr-dg-column [clrDgField]="'qty'">Ilość</clr-dg-column>
    <clr-dg-column [clrDgField]="'price'">Cena jedn.</clr-dg-column>
    <clr-dg-column>Menu</clr-dg-column>

    <clr-dg-row *clrDgItems="let product of products" [clrDgItem]="product">
        <clr-dg-cell>{{product._id}}</clr-dg-cell>
        <clr-dg-cell>{{product.name}}</clr-dg-cell>
        <clr-dg-cell>{{product.qty}}</clr-dg-cell>
        <clr-dg-cell>{{product.price | currency:'EUR':true:'1.2-2'}}</clr-dg-cell>
        <clr-dg-cell>
            <button type="button" class="btn btn-icon btn-primary btn-sm" (click)="editProduct(product)">
                <clr-icon shape="pencil"></clr-icon>
                <span class="clr-icon-title">Edytuj</span>
            </button>
            <button type="button" class="btn btn-icon btn-danger btn-sm" (click)="removeProduct(product)">
                <clr-icon shape="trash"></clr-icon>
                <span class="clr-icon-title">Usuń</span>
            </button>
        </clr-dg-cell>
      </clr-dg-row>

    <clr-dg-footer>{{products.length}} produktów</clr-dg-footer>
</clr-datagrid>